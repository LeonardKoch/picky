(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

var _picky = require('./lib/picky.js');

var _picky2 = _interopRequireDefault(_picky);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./lib/picky.js":2}],2:[function(require,module,exports){
'use strict';

var _typeof21 = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj; };

var _typeof20 = typeof Symbol === "function" && _typeof21(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof21(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof21(obj);
};

var _typeof19 = typeof Symbol === "function" && _typeof20(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof20(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof20(obj);
};

var _typeof18 = typeof Symbol === "function" && _typeof19(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof19(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof19(obj);
};

var _typeof17 = typeof Symbol === "function" && _typeof18(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof18(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof18(obj);
};

var _typeof16 = typeof Symbol === "function" && _typeof17(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof17(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof17(obj);
};

var _typeof15 = typeof Symbol === "function" && _typeof16(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof16(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof16(obj);
};

var _typeof14 = typeof Symbol === "function" && _typeof15(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof15(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof15(obj);
};

var _typeof13 = typeof Symbol === "function" && _typeof14(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof14(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof14(obj);
};

var _typeof12 = typeof Symbol === "function" && _typeof13(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof13(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof13(obj);
};

var _typeof11 = typeof Symbol === "function" && _typeof12(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof12(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof12(obj);
};

var _typeof10 = typeof Symbol === "function" && _typeof11(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof11(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof11(obj);
};

var _typeof9 = typeof Symbol === "function" && _typeof10(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof10(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof10(obj);
};

var _typeof8 = typeof Symbol === "function" && _typeof9(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof9(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof9(obj);
};

var _typeof7 = typeof Symbol === "function" && _typeof8(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof8(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof8(obj);
};

var _typeof6 = typeof Symbol === "function" && _typeof7(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof7(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof7(obj);
};

var _typeof5 = typeof Symbol === "function" && _typeof6(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof6(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof6(obj);
};

var _typeof4 = typeof Symbol === "function" && _typeof5(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof5(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof5(obj);
};

var _typeof3 = typeof Symbol === "function" && _typeof4(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof4(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof4(obj);
};

var _typeof2 = typeof Symbol === "function" && _typeof3(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof3(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof3(obj);
};

var _typeof = typeof Symbol === "function" && _typeof2(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof2(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof2(obj);
};

var _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
        var source = arguments[i];for (var key in source) {
            if (Object.prototype.hasOwnProperty.call(source, key)) {
                target[key] = source[key];
            }
        }
    }return target;
};

var _createClass = function () {
    function defineProperties(target, props) {
        for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
        }
    }return function (Constructor, protoProps, staticProps) {
        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
    };
}();

var _viewDataHelpers = require('./viewDataHelpers.js');

var _viewDataHelpers2 = _interopRequireDefault(_viewDataHelpers);

var _util = require('./util.js');

var _util2 = _interopRequireDefault(_util);

function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : { default: obj };
}

function _defineProperty(obj, key, value) {
    if (key in obj) {
        Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });
    } else {
        obj[key] = value;
    }return obj;
}

function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

var picky = function () {
    function picky() {
        _classCallCheck(this, picky);
    }

    _createClass(picky, null, [{
        key: 'addCalendar',
        value: function addCalendar(state, name, startDay, startMonth, startYear) {
            if (picky.isValidPicky(state)) {
                var currentDate = new Date();

                return _extends({}, state, {
                    calendars: _extends({}, state.calendars, _defineProperty({}, name, {
                        name: name,
                        view: {
                            year: startYear || currentDate.getFullYear(),
                            month: startMonth || currentDate.getMonth() + 1,
                            day: startDay || currentDate.getDate()
                        },
                        selection: {
                            year: startYear || currentDate.getFullYear(),
                            month: startMonth || currentDate.getMonth() + 1,
                            day: startDay || currentDate.getDate()
                        }
                    }))
                });
            } else {
                return null;
            }
        }
    }, {
        key: 'setCalendar',
        value: function setCalendar(state, name, calendar) {
            if (picky.isValidPicky(state)) {
                return _extends({}, state, {
                    calendars: _extends({}, state.calendars, _defineProperty({}, name, calendar))
                });
            } else {
                return null;
            }
        }
    }, {
        key: 'setCalendarView',
        value: function setCalendarView(state, name, view) {
            if (picky.isValidPicky(state)) {
                return picky.setCalendar(state, name, _extends({}, state.calendars[name], {
                    view: view
                }));
            } else {
                return null;
            }
        }
    }, {
        key: 'setCalendarViewDay',
        value: function setCalendarViewDay(state, name, day) {
            if (picky.isValidPicky(state)) {
                return picky.setCalendarView(state, name, _extends({}, state.calendars[name].view, {
                    day: day
                }));
            } else {
                return null;
            }
        }
    }, {
        key: 'setCalendarViewMonth',
        value: function setCalendarViewMonth(state, name, month) {
            if (picky.isValidPicky(state)) {
                return picky.setCalendarView(state, name, _extends({}, state.calendars[name].view, {
                    month: month
                }));
            } else {
                return null;
            }
        }
    }, {
        key: 'setCalendarViewYear',
        value: function setCalendarViewYear(state, name, year) {
            if (picky.isValidPicky(state)) {
                return picky.setCalendarView(state, name, _extends({}, state.calendars[name].view, {
                    year: year
                }));
            } else {
                return null;
            }
        }
    }, {
        key: 'setCalendarSelection',
        value: function setCalendarSelection(state, name, selection) {
            if (picky.isValidPicky(state)) {
                return picky.setCalendar(state, name, _extends({}, state.calendars[name], {
                    selection: selection
                }));
            } else {
                return null;
            }
        }
    }, {
        key: 'setCalendarSelectionDay',
        value: function setCalendarSelectionDay(state, name, day) {
            if (picky.isValidPicky(state)) {
                return picky.setCalendarSelection(state, name, _extends({}, state.calendars[name].selection, {
                    day: day
                }));
            } else {
                return null;
            }
        }
    }, {
        key: 'setCalendarSelectionMonth',
        value: function setCalendarSelectionMonth(state, name, month) {
            if (picky.isValidPicky(state)) {
                return picky.setCalendarSelection(state, name, _extends({}, state.calendars[name].selection, {
                    month: month
                }));
            } else {
                return null;
            }
        }
    }, {
        key: 'setCalendarSelectionYear',
        value: function setCalendarSelectionYear(state, name, year) {
            if (picky.isValidPicky(state)) {
                return picky.setCalendarSelection(state, name, _extends({}, state.calendars[name].selection, {
                    year: year
                }));
            } else {
                return null;
            }
        }
    }, {
        key: 'isValidPicky',
        value: function isValidPicky(state) {
            if ((typeof state === 'undefined' ? 'undefined' : _typeof(state)) === _typeof({}) && _typeof(state.calendars) === _typeof([])) {
                return true;
            } else {
                console.warn('No valid picky data passed in.');
                return false;
            }
        }
    }, {
        key: 'getCalendarViewData',
        value: function getCalendarViewData(state, name) {
            if (picky.isValidPicky(state)) {
                var calendar = state.calendars[name];
                if (calendar) {
                    return _viewDataHelpers2.default.generateMonthViewData(calendar.view.month, calendar.view.year);
                } else {
                    console.warn('There is no calendar with the name: ' + name + ' in this picky object.');
                    return state;
                }
            } else {
                return null;
            }
        }
    }, {
        key: 'moveCalendarViewForwardOneMonth',
        value: function moveCalendarViewForwardOneMonth(state, name) {
            if (picky.isValidPicky(state)) {
                var calendar = state.calendars[name];
                if (calendar) {
                    return picky.setCalendarView(state, name, _util2.default.getDateOfFollowingMonth(calendar.view));
                } else {
                    console.warn('There is no calendar with the name: ' + name + ' in this picky object.');
                    return state;
                }
            } else {
                return null;
            }
        }
    }, {
        key: 'moveCalendarViewBackwardOneMonth',
        value: function moveCalendarViewBackwardOneMonth(state, name) {
            if (picky.isValidPicky(state)) {
                var calendar = state.calendars[name];
                if (calendar) {
                    return picky.setCalendarView(state, name, _util2.default.getDateOfPrecedingMonth(calendar.view));
                } else {
                    console.warn('There is no calendar with the name: ' + name + ' in this picky object.');
                    return state;
                }
            } else {
                return null;
            }
        }
    }, {
        key: 'generateDatePicker',
        value: function generateDatePicker() {
            return {
                calendars: {},
                viewMode: 'month'
            };
        }
    }]);

    return picky;
}();

console.log(_util2.default);
console.log(_util2.default.getDateOfFollowingMonth);
console.log(_util2.default.getWeekday);

var datePickerData = picky.generateDatePicker();
console.log(datePickerData.calendars.length);
console.log(datePickerData);

var modifiedDatePickerData = picky.addCalendar(datePickerData, 'left', 20, 11, 2016);
console.log(modifiedDatePickerData);
console.log(modifiedDatePickerData.calendars.length);
var modifiedDatePickerData2 = picky.addCalendar(modifiedDatePickerData, 'right');
console.log(modifiedDatePickerData2);
console.log(modifiedDatePickerData2.calendars.length);

console.log(modifiedDatePickerData2.calendars);
var movedDatePickerData = picky.moveCalendarViewForwardOneMonth(modifiedDatePickerData2, 'left');
console.log(movedDatePickerData.calendars);
var movedDatePickerData2 = picky.moveCalendarViewForwardOneMonth(movedDatePickerData, 'left');
console.log(movedDatePickerData2.calendars);

},{"./util.js":3,"./viewDataHelpers.js":4}],3:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () {
    function defineProperties(target, props) {
        for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
        }
    }return function (Constructor, protoProps, staticProps) {
        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
    };
}();

function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

var util = function () {
    function util() {
        _classCallCheck(this, util);
    }

    _createClass(util, null, [{
        key: "isLeapYear",
        value: function isLeapYear(year) {
            if (year % 4 !== 0) {
                return false;
            } else if (year % 100 !== 0) {
                return true;
            } else if (year % 400 !== 0) {
                return false;
            } else {
                return true;
            }
        }
    }, {
        key: "aBeforeB",
        value: function aBeforeB(a, b) {
            return a.year < b.year || a.month < b.month || a.day < b.day;
        }
    }, {
        key: "aAfterB",
        value: function aAfterB(a, b) {
            return a.year > b.year || a.month > b.month || a.day > b.day;
        }
    }, {
        key: "getWeekday",
        value: function getWeekday(day, month, year) {
            // Implementing Zeller's congruence
            // https://en.wikipedia.org/wiki/Zeller%27s_congruence

            var q = day;
            var m = void 0;
            var potentiallyShiftedYear = void 0;
            if (month <= 2) {
                m = month + 12;
                potentiallyShiftedYear = year - 1;
            } else {
                m = month;
                potentiallyShiftedYear = year;
            }
            var K = potentiallyShiftedYear % 100;
            var J = Math.floor(potentiallyShiftedYear / 100);

            var h = (q + Math.floor(13 * (m + 1) / 5) + K + Math.floor(K / 4) + Math.floor(J / 4) + 5 * J) % 7;

            var d = (h + 5) % 7;
            return d;
        }
    }, {
        key: "getFollowingMonthNumber",
        value: function getFollowingMonthNumber(month) {
            if (month === 12) {
                return 1;
            } else {
                return month + 1;
            }
        }
    }, {
        key: "getPrecedingMonthNumber",
        value: function getPrecedingMonthNumber(month) {
            if (month === 1) {
                return 12;
            } else {
                return month - 1;
            }
        }
    }, {
        key: "getDateOfFollowingMonth",
        value: function getDateOfFollowingMonth(date) {
            var followingMonth = util.getFollowingMonthNumber(date.month);
            var yearOfFollowingMonth = followingMonth === 1 ? date.year + 1 : date.year;

            return {
                day: Math.min(date.day, util.getDaysInMonth(followingMonth, yearOfFollowingMonth)),
                month: followingMonth,
                year: yearOfFollowingMonth
            };
        }
    }, {
        key: "getDateOfPrecedingMonth",
        value: function getDateOfPrecedingMonth(date) {
            var precedingMonth = util.getPrecedingMonthNumber(date.month);
            var yearOfPrecedingMonth = precedingMonth === 12 ? date.year - 1 : date.year;

            return {
                day: Math.min(date.day, util.getDaysInMonth(precedingMonth, yearOfPrecedingMonth)),
                month: precedingMonth,
                year: yearOfPrecedingMonth
            };
        }
    }, {
        key: "getDaysInMonth",
        value: function getDaysInMonth(month, year) {
            var monthLengths = [31, util.isLeapYear(year) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
            return monthLengths[month - 1];
        }
    }]);

    return util;
}();

exports.default = util;

},{}],4:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _util = require("./util");

var _util2 = _interopRequireDefault(_util);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var viewDataHelpers = function () {
    function viewDataHelpers() {
        _classCallCheck(this, viewDataHelpers);
    }

    _createClass(viewDataHelpers, null, [{
        key: "createDayObject",
        value: function createDayObject(day, weekday, month, year) {
            return {
                day: day, weekday: weekday, month: month, year: year
            };
        }
    }, {
        key: "generateMonthViewData",
        value: function generateMonthViewData(month, year) {
            var startWeekday = _util2.default.getWeekday(1, month, year);

            var precedingMonth = _util2.default.getPrecedingMonthNumber(month);
            var yearOfPrecedingMonth = precedingMonth === 12 ? year - 1 : year;
            var daysInPrecedingMonth = _util2.default.getDaysInMonth(precedingMonth, year);

            var followingMonth = _util2.default.getFollowingMonthNumber(month);
            var yearOfFollowingMonth = followingMonth === 1 ? year + 1 : year;

            var daysInCurrentMonth = _util2.default.getDaysInMonth(month, year);

            var weeks = [];

            var currentDate = 1;
            var currentWeekIndex = 0;
            var currentDayInFollowingMonth = 1;

            weeks[currentWeekIndex] = [];

            for (var i = 0; i < startWeekday; i++) {
                weeks[currentWeekIndex].push(viewDataHelpers.createDayObject(daysInPrecedingMonth - startWeekday + 1 + i, i, precedingMonth, yearOfPrecedingMonth));
            }
            while (weeks[currentWeekIndex].length < 7 || currentDate <= daysInCurrentMonth) {
                if (weeks[currentWeekIndex].length === 7) {
                    currentWeekIndex++;
                    weeks[currentWeekIndex] = [];
                }
                if (currentDate <= daysInCurrentMonth) {
                    weeks[currentWeekIndex].push(viewDataHelpers.createDayObject(currentDate, weeks[currentWeekIndex].length + 1, month, year));
                    currentDate++;
                } else {
                    weeks[currentWeekIndex].push(viewDataHelpers.createDayObject(currentDayInFollowingMonth, weeks[currentWeekIndex].length + 1, followingMonth, yearOfFollowingMonth));
                    currentDayInFollowingMonth++;
                }
            }
            return weeks;
        }
    }]);

    return viewDataHelpers;
}();

module.exports = viewDataHelpers;

},{"./util":3}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJpbmRleC5qcyIsImxpYi9waWNreS5qcyIsImxpYi91dGlsLmpzIiwibGliL3ZpZXdEYXRhSGVscGVycy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUE7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUE7Ozs7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJLEFBRU07Ozs7Ozs7b0MsQUFFaUIsTyxBQUFPLE0sQUFBTSxVLEFBQVUsWSxBQUFZLFdBQVcsQUFDNUQ7Z0JBQUksTUFBQSxBQUFNLGFBQVYsQUFBSSxBQUFtQixRQUFRLEFBQzVCO29CQUFNLGNBQWMsSUFBcEIsQUFBb0IsQUFBSSxBQUV4Qjs7b0NBQUEsQUFDTzs0Q0FFSSxNQURQLEFBQ2EsK0JBRGIsQUFFUzs4QkFBUSxBQUNILEFBQ047O2tDQUNVLGFBQWEsWUFEakIsQUFDaUIsQUFBWSxBQUMvQjttQ0FBTyxjQUFjLFlBQUEsQUFBWSxhQUYvQixBQUU0QyxBQUM5QztpQ0FBSyxZQUFZLFlBTFosQUFFSCxBQUNGLEFBRWlCLEFBQVksQUFFakM7OztrQ0FDVSxhQUFhLFlBRFosQUFDWSxBQUFZLEFBQy9CO21DQUFPLGNBQWMsWUFBQSxBQUFZLGFBRjFCLEFBRXVDLEFBQzlDO2lDQUFLLFlBQVksWUFqQnBDLEFBR0csQUFFSSxBQUVpQixBQUNULEFBTVcsQUFDUCxBQUVpQixBQUFZLEFBS2hEOzs7O21CQUFNLEFBQ0g7dUJBQUEsQUFBTyxBQUNWLEFBQ0o7Ozs7O29DLEFBRWtCLE8sQUFBTyxNLEFBQU0sVUFBVSxBQUN0QztnQkFBSSxNQUFBLEFBQU0sYUFBVixBQUFJ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TztBQUNILDBCQUFNLGdCQUFOLEVBQXdCLElBQXhCLENBQTZCLGdCQUFnQixlQUFoQixDQUN6QiwwQkFEeUIsRUFFekIsTUFBTSxnQkFBTixFQUF3QixNQUF4QixHQUErQixDQUZOLEVBR3pCLGNBSHlCLEVBSXpCLG9CQUp5QixDQUE3QjtBQU1BO0FBQ0g7QUFDSjtBQUNELG1CQUFPLEtBQVA7QUFDSDs7Ozs7O0FBR0wsT0FBTyxPQUFQLEdBQWlCLGVBQWpCIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImltcG9ydCBwaWNreSBmcm9tICcuL2xpYi9waWNreS5qcyc7IiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdmlld0RhdGFIZWxwZXJzIGZyb20gJy4vdmlld0RhdGFIZWxwZXJzLmpzJztcbmltcG9ydCB1dGlsIGZyb20gJy4vdXRpbC5qcyc7XG5cbmNsYXNzIHBpY2t5IHtcblxuICAgIHN0YXRpYyBhZGRDYWxlbmRhcihzdGF0ZSwgbmFtZSwgc3RhcnREYXksIHN0YXJ0TW9udGgsIHN0YXJ0WWVhcikge1xuICAgICAgICAgaWYgKHBpY2t5LmlzVmFsaWRQaWNreShzdGF0ZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnREYXRlID0gbmV3IERhdGUoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgICAgICAgICBjYWxlbmRhcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uc3RhdGUuY2FsZW5kYXJzLFxuICAgICAgICAgICAgICAgICAgICAuLi57W25hbWVdIDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ZWFyOiBzdGFydFllYXIgfHwgY3VycmVudERhdGUuZ2V0RnVsbFllYXIoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb250aDogc3RhcnRNb250aCB8fCBjdXJyZW50RGF0ZS5nZXRNb250aCgpICsgMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXk6IHN0YXJ0RGF5IHx8IGN1cnJlbnREYXRlLmdldERhdGUoKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHllYXI6IHN0YXJ0WWVhciB8fCBjdXJyZW50RGF0ZS5nZXRGdWxsWWVhcigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoOiBzdGFydE1vbnRoIHx8IGN1cnJlbnREYXRlLmdldE1vbnRoKCkgKyAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRheTogc3RhcnREYXkgfHwgY3VycmVudERhdGUuZ2V0RGF0ZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIHNldENhbGVuZGFyKHN0YXRlLCBuYW1lLCBjYWxlbmRhcikge1xuICAgICAgICBpZiAocGlja3kuaXNWYWxpZFBpY2t5KHN0YXRlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgICAgICAgICBjYWxlbmRhcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uc3RhdGUuY2FsZW5kYXJzLFxuICAgICAgICAgICAgICAgICAgICAuLi57W25hbWVdIDogY2FsZW5kYXJ9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIHNldENhbGVuZGFyVmlldyhzdGF0ZSwgbmFtZSwgdmlldykge1xuICAgICAgICBpZiAocGlja3kuaXNWYWxpZFBpY2t5KHN0YXRlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHBpY2t5LnNldENhbGVuZGFyKHN0YXRlLCBuYW1lLCB7XG4gICAgICAgICAgICAgICAgLi4uc3RhdGUuY2FsZW5kYXJzW25hbWVdLFxuICAgICAgICAgICAgICAgIHZpZXc6IHZpZXdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIHNldENhbGVuZGFyVmlld0RheShzdGF0ZSwgbmFtZSwgZGF5KSB7XG4gICAgICAgIGlmIChwaWNreS5pc1ZhbGlkUGlja3koc3RhdGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gcGlja3kuc2V0Q2FsZW5kYXJWaWV3KHN0YXRlLCBuYW1lLCB7XG4gICAgICAgICAgICAgICAgLi4uc3RhdGUuY2FsZW5kYXJzW25hbWVdLnZpZXcsXG4gICAgICAgICAgICAgICAgZGF5OiBkYXlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIHNldENhbGVuZGFyVmlld01vbnRoKHN0YXRlLCBuYW1lLCBtb250aCkge1xuICAgICAgICBpZiAocGlja3kuaXNWYWxpZFBpY2t5KHN0YXRlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHBpY2t5LnNldENhbGVuZGFyVmlldyhzdGF0ZSwgbmFtZSwge1xuICAgICAgICAgICAgICAgIC4uLnN0YXRlLmNhbGVuZGFyc1tuYW1lXS52aWV3LFxuICAgICAgICAgICAgICAgIG1vbnRoOiBtb250aFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgc2V0Q2FsZW5kYXJWaWV3WWVhcihzdGF0ZSwgbmFtZSwgeWVhcikge1xuICAgICAgICBpZiAocGlja3kuaXNWYWxpZFBpY2t5KHN0YXRlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHBpY2t5LnNldENhbGVuZGFyVmlldyhzdGF0ZSwgbmFtZSwge1xuICAgICAgICAgICAgICAgIC4uLnN0YXRlLmNhbGVuZGFyc1tuYW1lXS52aWV3LFxuICAgICAgICAgICAgICAgIHllYXI6IHllYXJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgc2V0Q2FsZW5kYXJTZWxlY3Rpb24oc3RhdGUsIG5hbWUsIHNlbGVjdGlvbikge1xuICAgICAgICBpZiAocGlja3kuaXNWYWxpZFBpY2t5KHN0YXRlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHBpY2t5LnNldENhbGVuZGFyKHN0YXRlLCBuYW1lLCB7XG4gICAgICAgICAgICAgICAgLi4uc3RhdGUuY2FsZW5kYXJzW25hbWVdLFxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbjogc2VsZWN0aW9uXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBzZXRDYWxlbmRhclNlbGVjdGlvbkRheShzdGF0ZSwgbmFtZSwgZGF5KSB7XG4gICAgICAgIGlmIChwaWNreS5pc1ZhbGlkUGlja3koc3RhdGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gcGlja3kuc2V0Q2FsZW5kYXJTZWxlY3Rpb24oc3RhdGUsIG5hbWUsIHtcbiAgICAgICAgICAgICAgICAuLi5zdGF0ZS5jYWxlbmRhcnNbbmFtZV0uc2VsZWN0aW9uLFxuICAgICAgICAgICAgICAgIGRheTogZGF5XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBzZXRDYWxlbmRhclNlbGVjdGlvbk1vbnRoKHN0YXRlLCBuYW1lLCBtb250aCkge1xuICAgICAgICBpZiAocGlja3kuaXNWYWxpZFBpY2t5KHN0YXRlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHBpY2t5LnNldENhbGVuZGFyU2VsZWN0aW9uKHN0YXRlLCBuYW1lLCB7XG4gICAgICAgICAgICAgICAgLi4uc3RhdGUuY2FsZW5kYXJzW25hbWVdLnNlbGVjdGlvbixcbiAgICAgICAgICAgICAgICBtb250aDogbW9udGhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIHNldENhbGVuZGFyU2VsZWN0aW9uWWVhcihzdGF0ZSwgbmFtZSwgeWVhcikge1xuICAgICAgICBpZiAocGlja3kuaXNWYWxpZFBpY2t5KHN0YXRlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHBpY2t5LnNldENhbGVuZGFyU2VsZWN0aW9uKHN0YXRlLCBuYW1lLCB7XG4gICAgICAgICAgICAgICAgLi4uc3RhdGUuY2FsZW5kYXJzW25hbWVdLnNlbGVjdGlvbixcbiAgICAgICAgICAgICAgICB5ZWFyOiB5ZWFyXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxuICAgIHN0YXRpYyBpc1ZhbGlkUGlja3koc3RhdGUpIHtcbiAgICAgICAgaWYodHlwZW9mIHN0YXRlID09PSB0eXBlb2Yge30gJiYgdHlwZW9mIHN0YXRlLmNhbGVuZGFycyA9PT0gdHlwZW9mIFtdKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignTm8gdmFsaWQgcGlja3kgZGF0YSBwYXNzZWQgaW4uJyk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0Q2FsZW5kYXJWaWV3RGF0YShzdGF0ZSwgbmFtZSkge1xuICAgICAgICBpZiAocGlja3kuaXNWYWxpZFBpY2t5KHN0YXRlKSkge1xuICAgICAgICAgICAgY29uc3QgY2FsZW5kYXIgPSBzdGF0ZS5jYWxlbmRhcnNbbmFtZV07XG4gICAgICAgICAgICBpZiAoY2FsZW5kYXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmlld0RhdGFIZWxwZXJzLmdlbmVyYXRlTW9udGhWaWV3RGF0YShjYWxlbmRhci52aWV3Lm1vbnRoLCBjYWxlbmRhci52aWV3LnllYXIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFRoZXJlIGlzIG5vIGNhbGVuZGFyIHdpdGggdGhlIG5hbWU6ICR7bmFtZX0gaW4gdGhpcyBwaWNreSBvYmplY3QuYCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgbW92ZUNhbGVuZGFyVmlld0ZvcndhcmRPbmVNb250aChzdGF0ZSwgbmFtZSkge1xuICAgICAgICBpZiAocGlja3kuaXNWYWxpZFBpY2t5KHN0YXRlKSkge1xuICAgICAgICAgICAgY29uc3QgY2FsZW5kYXIgPSBzdGF0ZS5jYWxlbmRhcnNbbmFtZV07XG4gICAgICAgICAgICBpZiAoY2FsZW5kYXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGlja3kuc2V0Q2FsZW5kYXJWaWV3KHN0YXRlLCBuYW1lLCB1dGlsLmdldERhdGVPZkZvbGxvd2luZ01vbnRoKGNhbGVuZGFyLnZpZXcpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBUaGVyZSBpcyBubyBjYWxlbmRhciB3aXRoIHRoZSBuYW1lOiAke25hbWV9IGluIHRoaXMgcGlja3kgb2JqZWN0LmApO1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIG1vdmVDYWxlbmRhclZpZXdCYWNrd2FyZE9uZU1vbnRoKHN0YXRlLCBuYW1lKSB7XG4gICAgICAgIGlmIChwaWNreS5pc1ZhbGlkUGlja3koc3RhdGUpKSB7XG4gICAgICAgICAgICBjb25zdCBjYWxlbmRhciA9IHN0YXRlLmNhbGVuZGFyc1tuYW1lXTtcbiAgICAgICAgICAgIGlmIChjYWxlbmRhcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBwaWNreS5zZXRDYWxlbmRhclZpZXcoc3RhdGUsIG5hbWUsIHV0aWwuZ2V0RGF0ZU9mUHJlY2VkaW5nTW9udGgoY2FsZW5kYXIudmlldykpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFRoZXJlIGlzIG5vIGNhbGVuZGFyIHdpdGggdGhlIG5hbWU6ICR7bmFtZX0gaW4gdGhpcyBwaWNreSBvYmplY3QuYCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgZ2VuZXJhdGVEYXRlUGlja2VyKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2FsZW5kYXJzOiB7fSxcbiAgICAgICAgICAgIHZpZXdNb2RlOiAnbW9udGgnLFxuICAgICAgICB9O1xuICAgIH1cbn1cblxuY29uc29sZS5sb2codXRpbCk7XG5jb25zb2xlLmxvZyh1dGlsLmdldERhdGVPZkZvbGxvd2luZ01vbnRoKTtcbmNvbnNvbGUubG9nKHV0aWwuZ2V0V2Vla2RheSk7XG5cbmNvbnN0IGRhdGVQaWNrZXJEYXRhID0gcGlja3kuZ2VuZXJhdGVEYXRlUGlja2VyKCk7XG5jb25zb2xlLmxvZyhkYXRlUGlja2VyRGF0YS5jYWxlbmRhcnMubGVuZ3RoKTtcbmNvbnNvbGUubG9nKGRhdGVQaWNrZXJEYXRhKTtcblxuY29uc3QgbW9kaWZpZWREYXRlUGlja2VyRGF0YSA9IHBpY2t5LmFkZENhbGVuZGFyKGRhdGVQaWNrZXJEYXRhLCAnbGVmdCcsIDIwLCAxMSwgMjAxNik7XG5jb25zb2xlLmxvZyhtb2RpZmllZERhdGVQaWNrZXJEYXRhKTtcbmNvbnNvbGUubG9nKG1vZGlmaWVkRGF0ZVBpY2tlckRhdGEuY2FsZW5kYXJzLmxlbmd0aCk7XG5jb25zdCBtb2RpZmllZERhdGVQaWNrZXJEYXRhMiA9IHBpY2t5LmFkZENhbGVuZGFyKG1vZGlmaWVkRGF0ZVBpY2tlckRhdGEsICdyaWdodCcpO1xuY29uc29sZS5sb2cobW9kaWZpZWREYXRlUGlja2VyRGF0YTIpO1xuY29uc29sZS5sb2cobW9kaWZpZWREYXRlUGlja2VyRGF0YTIuY2FsZW5kYXJzLmxlbmd0aCk7XG5cbmNvbnNvbGUubG9nKG1vZGlmaWVkRGF0ZVBpY2tlckRhdGEyLmNhbGVuZGFycyk7XG5jb25zdCBtb3ZlZERhdGVQaWNrZXJEYXRhID0gcGlja3kubW92ZUNhbGVuZGFyVmlld0ZvcndhcmRPbmVNb250aChtb2RpZmllZERhdGVQaWNrZXJEYXRhMiwgJ2xlZnQnKTtcbmNvbnNvbGUubG9nKG1vdmVkRGF0ZVBpY2tlckRhdGEuY2FsZW5kYXJzKTtcbmNvbnN0IG1vdmVkRGF0ZVBpY2tlckRhdGEyID0gcGlja3kubW92ZUNhbGVuZGFyVmlld0ZvcndhcmRPbmVNb250aChtb3ZlZERhdGVQaWNrZXJEYXRhLCAnbGVmdCcpO1xuY29uc29sZS5sb2cobW92ZWREYXRlUGlja2VyRGF0YTIuY2FsZW5kYXJzKTsiLCJcInVzZSBzdHJpY3RcIjtcblxuY2xhc3MgdXRpbCB7XG4gICAgc3RhdGljIGlzTGVhcFllYXIoeWVhcikge1xuICAgICAgICBpZiAoeWVhciU0ICE9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSBpZiAoeWVhciUxMDAgIT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHllYXIlNDAwICE9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBhQmVmb3JlQihhLCBiKSB7XG4gICAgICAgIHJldHVybiBhLnllYXIgPCBiLnllYXIgfHwgYS5tb250aCA8IGIubW9udGggfHwgYS5kYXkgPCBiLmRheTtcbiAgICB9XG5cbiAgICBzdGF0aWMgYUFmdGVyQihhLCBiKSB7XG4gICAgICAgIHJldHVybiBhLnllYXIgPiBiLnllYXIgfHwgYS5tb250aCA+IGIubW9udGggfHwgYS5kYXkgPiBiLmRheTtcbiAgICB9XG5cblxuICAgIHN0YXRpYyBnZXRXZWVrZGF5KGRheSwgbW9udGgsIHllYXIpIHtcbiAgICAgICAgLy8gSW1wbGVtZW50aW5nIFplbGxlcidzIGNvbmdydWVuY2VcbiAgICAgICAgLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvWmVsbGVyJTI3c19jb25ncnVlbmNlXG5cbiAgICAgICAgY29uc3QgcSA9IGRheTtcbiAgICAgICAgbGV0IG07XG4gICAgICAgIGxldCBwb3RlbnRpYWxseVNoaWZ0ZWRZZWFyO1xuICAgICAgICBpZiAobW9udGggPD0gMikge1xuICAgICAgICAgICAgbSA9IG1vbnRoKzEyO1xuICAgICAgICAgICAgcG90ZW50aWFsbHlTaGlmdGVkWWVhciA9IHllYXItMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG0gPSBtb250aDtcbiAgICAgICAgICAgIHBvdGVudGlhbGx5U2hpZnRlZFllYXIgPSB5ZWFyO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IEsgPSBwb3RlbnRpYWxseVNoaWZ0ZWRZZWFyICUgMTAwO1xuICAgICAgICBjb25zdCBKID0gTWF0aC5mbG9vcihwb3RlbnRpYWxseVNoaWZ0ZWRZZWFyIC8gMTAwKTtcblxuICAgICAgICBjb25zdCBoID0gKHEgKyBNYXRoLmZsb29yKDEzKihtICsgMSkgLyA1KSArIEsgKyBNYXRoLmZsb29yKEsvNCkgKyBNYXRoLmZsb29yKEovNCkgKyA1KkopICUgNztcblxuICAgICAgICBjb25zdCBkID0gKChoKzUpICUgNyk7XG4gICAgICAgIHJldHVybiBkO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRGb2xsb3dpbmdNb250aE51bWJlcihtb250aCkge1xuICAgICAgICBpZiAobW9udGggPT09IDEyKSB7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBtb250aCArIDE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0UHJlY2VkaW5nTW9udGhOdW1iZXIobW9udGgpIHtcbiAgICAgICAgaWYgKG1vbnRoID09PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gMTI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbW9udGggLSAxO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGdldERhdGVPZkZvbGxvd2luZ01vbnRoKGRhdGUpIHtcbiAgICAgICAgY29uc3QgZm9sbG93aW5nTW9udGggPSB1dGlsLmdldEZvbGxvd2luZ01vbnRoTnVtYmVyKGRhdGUubW9udGgpO1xuICAgICAgICBjb25zdCB5ZWFyT2ZGb2xsb3dpbmdNb250aCA9IGZvbGxvd2luZ01vbnRoID09PSAxID8gZGF0ZS55ZWFyKzEgOiBkYXRlLnllYXI7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRheTogTWF0aC5taW4oZGF0ZS5kYXksIHV0aWwuZ2V0RGF5c0luTW9udGgoZm9sbG93aW5nTW9udGgsIHllYXJPZkZvbGxvd2luZ01vbnRoKSksXG4gICAgICAgICAgICBtb250aDogZm9sbG93aW5nTW9udGgsXG4gICAgICAgICAgICB5ZWFyOiB5ZWFyT2ZGb2xsb3dpbmdNb250aFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXREYXRlT2ZQcmVjZWRpbmdNb250aChkYXRlKSB7XG4gICAgICAgIGNvbnN0IHByZWNlZGluZ01vbnRoID0gdXRpbC5nZXRQcmVjZWRpbmdNb250aE51bWJlcihkYXRlLm1vbnRoKTtcbiAgICAgICAgY29uc3QgeWVhck9mUHJlY2VkaW5nTW9udGggPSBwcmVjZWRpbmdNb250aCA9PT0gMTIgPyBkYXRlLnllYXItMSA6IGRhdGUueWVhcjtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGF5OiBNYXRoLm1pbihkYXRlLmRheSwgdXRpbC5nZXREYXlzSW5Nb250aChwcmVjZWRpbmdNb250aCwgeWVhck9mUHJlY2VkaW5nTW9udGgpKSxcbiAgICAgICAgICAgIG1vbnRoOiBwcmVjZWRpbmdNb250aCxcbiAgICAgICAgICAgIHllYXI6IHllYXJPZlByZWNlZGluZ01vbnRoXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgc3RhdGljIGdldERheXNJbk1vbnRoKG1vbnRoLCB5ZWFyKSB7XG4gICAgICAgIGNvbnN0IG1vbnRoTGVuZ3RocyA9IFtcbiAgICAgICAgICAgIDMxLCB1dGlsLmlzTGVhcFllYXIoeWVhcikgPyAyOSA6IDI4LCAzMSwgMzAsIDMxLCAzMCwgMzEsIDMxLCAzMCwgMzEsIDMwLCAzMVxuICAgICAgICBdO1xuICAgICAgICByZXR1cm4gbW9udGhMZW5ndGhzW21vbnRoLTFdO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgdXRpbDsiLCJcInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IHV0aWwgZnJvbSAnLi91dGlsJztcblxuY2xhc3Mgdmlld0RhdGFIZWxwZXJzIHtcblxuICAgIHN0YXRpYyBjcmVhdGVEYXlPYmplY3QoZGF5LCB3ZWVrZGF5LCBtb250aCwgeWVhcikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGF5LCB3ZWVrZGF5LCBtb250aCwgeWVhclxuICAgICAgICB9O1xuICAgIH1cblxuXG4gICAgc3RhdGljIGdlbmVyYXRlTW9udGhWaWV3RGF0YShtb250aCwgeWVhcikge1xuICAgICAgICBjb25zdCBzdGFydFdlZWtkYXkgPSB1dGlsLmdldFdlZWtkYXkoMSwgbW9udGgsIHllYXIpO1xuXG4gICAgICAgIGNvbnN0IHByZWNlZGluZ01vbnRoID0gdXRpbC5nZXRQcmVjZWRpbmdNb250aE51bWJlcihtb250aCk7XG4gICAgICAgIGNvbnN0IHllYXJPZlByZWNlZGluZ01vbnRoID0gcHJlY2VkaW5nTW9udGggPT09IDEyID8geWVhci0xIDogeWVhcjtcbiAgICAgICAgY29uc3QgZGF5c0luUHJlY2VkaW5nTW9udGggPSB1dGlsLmdldERheXNJbk1vbnRoKHByZWNlZGluZ01vbnRoLCB5ZWFyKTtcblxuICAgICAgICBjb25zdCBmb2xsb3dpbmdNb250aCA9IHV0aWwuZ2V0Rm9sbG93aW5nTW9udGhOdW1iZXIobW9udGgpO1xuICAgICAgICBjb25zdCB5ZWFyT2ZGb2xsb3dpbmdNb250aCA9IGZvbGxvd2luZ01vbnRoID09PSAxID8geWVhcisxIDogeWVhcjtcblxuXG4gICAgICAgIGNvbnN0IGRheXNJbkN1cnJlbnRNb250aCA9IHV0aWwuZ2V0RGF5c0luTW9udGgobW9udGgsIHllYXIpO1xuXG4gICAgICAgIGNvbnN0IHdlZWtzID0gW107XG5cbiAgICAgICAgbGV0IGN1cnJlbnREYXRlID0gMTtcbiAgICAgICAgbGV0IGN1cnJlbnRXZWVrSW5kZXggPSAwO1xuICAgICAgICBsZXQgY3VycmVudERheUluRm9sbG93aW5nTW9udGggPSAxO1xuXG4gICAgICAgIHdlZWtzW2N1cnJlbnRXZWVrSW5kZXhdID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFydFdlZWtkYXk7IGkrKykge1xuICAgICAgICAgICAgd2Vla3NbY3VycmVudFdlZWtJbmRleF0ucHVzaCh2aWV3RGF0YUhlbHBlcnMuY3JlYXRlRGF5T2JqZWN0KFxuICAgICAgICAgICAgICAgIGRheXNJblByZWNlZGluZ01vbnRoIC0gc3RhcnRXZWVrZGF5ICsgMSArIGksXG4gICAgICAgICAgICAgICAgaSxcbiAgICAgICAgICAgICAgICBwcmVjZWRpbmdNb250aCxcbiAgICAgICAgICAgICAgICB5ZWFyT2ZQcmVjZWRpbmdNb250aFxuICAgICAgICAgICAgKSk7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUod2Vla3NbY3VycmVudFdlZWtJbmRleF0ubGVuZ3RoIDwgNyB8fCBjdXJyZW50RGF0ZSA8PSBkYXlzSW5DdXJyZW50TW9udGgpIHtcbiAgICAgICAgICAgIGlmKHdlZWtzW2N1cnJlbnRXZWVrSW5kZXhdLmxlbmd0aCA9PT0gNykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRXZWVrSW5kZXgrKztcbiAgICAgICAgICAgICAgICB3ZWVrc1tjdXJyZW50V2Vla0luZGV4XSA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoY3VycmVudERhdGUgPD0gZGF5c0luQ3VycmVudE1vbnRoKSB7XG4gICAgICAgICAgICAgICAgd2Vla3NbY3VycmVudFdlZWtJbmRleF0ucHVzaCh2aWV3RGF0YUhlbHBlcnMuY3JlYXRlRGF5T2JqZWN0KFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50RGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgd2Vla3NbY3VycmVudFdlZWtJbmRleF0ubGVuZ3RoKzEsXG4gICAgICAgICAgICAgICAgICAgIG1vbnRoLFxuICAgICAgICAgICAgICAgICAgICB5ZWFyXG4gICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICAgICAgY3VycmVudERhdGUrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgd2Vla3NbY3VycmVudFdlZWtJbmRleF0ucHVzaCh2aWV3RGF0YUhlbHBlcnMuY3JlYXRlRGF5T2JqZWN0KFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50RGF5SW5Gb2xsb3dpbmdNb250aCxcbiAgICAgICAgICAgICAgICAgICAgd2Vla3NbY3VycmVudFdlZWtJbmRleF0ubGVuZ3RoKzEsXG4gICAgICAgICAgICAgICAgICAgIGZvbGxvd2luZ01vbnRoLFxuICAgICAgICAgICAgICAgICAgICB5ZWFyT2ZGb2xsb3dpbmdNb250aFxuICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgICAgIGN1cnJlbnREYXlJbkZvbGxvd2luZ01vbnRoKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdlZWtzO1xuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSB2aWV3RGF0YUhlbHBlcnM7Il19
