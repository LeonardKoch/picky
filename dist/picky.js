(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

var _picky = require('./lib/picky.js');

var _picky2 = _interopRequireDefault(_picky);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./lib/picky.js":2}],2:[function(require,module,exports){
'use strict';

var _typeof91 = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj; };

var _typeof90 = typeof Symbol === "function" && _typeof91(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof91(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof91(obj);
};

var _typeof89 = typeof Symbol === "function" && _typeof90(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof90(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof90(obj);
};

var _typeof88 = typeof Symbol === "function" && _typeof89(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof89(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof89(obj);
};

var _typeof87 = typeof Symbol === "function" && _typeof88(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof88(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof88(obj);
};

var _typeof86 = typeof Symbol === "function" && _typeof87(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof87(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof87(obj);
};

var _typeof85 = typeof Symbol === "function" && _typeof86(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof86(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof86(obj);
};

var _typeof84 = typeof Symbol === "function" && _typeof85(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof85(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof85(obj);
};

var _typeof83 = typeof Symbol === "function" && _typeof84(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof84(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof84(obj);
};

var _typeof82 = typeof Symbol === "function" && _typeof83(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof83(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof83(obj);
};

var _typeof81 = typeof Symbol === "function" && _typeof82(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof82(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof82(obj);
};

var _typeof80 = typeof Symbol === "function" && _typeof81(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof81(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof81(obj);
};

var _typeof79 = typeof Symbol === "function" && _typeof80(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof80(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof80(obj);
};

var _typeof78 = typeof Symbol === "function" && _typeof79(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof79(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof79(obj);
};

var _typeof77 = typeof Symbol === "function" && _typeof78(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof78(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof78(obj);
};

var _typeof76 = typeof Symbol === "function" && _typeof77(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof77(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof77(obj);
};

var _typeof75 = typeof Symbol === "function" && _typeof76(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof76(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof76(obj);
};

var _typeof74 = typeof Symbol === "function" && _typeof75(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof75(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof75(obj);
};

var _typeof73 = typeof Symbol === "function" && _typeof74(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof74(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof74(obj);
};

var _typeof72 = typeof Symbol === "function" && _typeof73(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof73(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof73(obj);
};

var _typeof71 = typeof Symbol === "function" && _typeof72(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof72(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof72(obj);
};

var _typeof70 = typeof Symbol === "function" && _typeof71(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof71(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof71(obj);
};

var _typeof69 = typeof Symbol === "function" && _typeof70(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof70(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof70(obj);
};

var _typeof68 = typeof Symbol === "function" && _typeof69(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof69(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof69(obj);
};

var _typeof67 = typeof Symbol === "function" && _typeof68(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof68(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof68(obj);
};

var _typeof66 = typeof Symbol === "function" && _typeof67(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof67(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof67(obj);
};

var _typeof65 = typeof Symbol === "function" && _typeof66(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof66(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof66(obj);
};

var _typeof64 = typeof Symbol === "function" && _typeof65(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof65(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof65(obj);
};

var _typeof63 = typeof Symbol === "function" && _typeof64(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof64(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof64(obj);
};

var _typeof62 = typeof Symbol === "function" && _typeof63(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof63(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof63(obj);
};

var _typeof61 = typeof Symbol === "function" && _typeof62(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof62(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof62(obj);
};

var _typeof60 = typeof Symbol === "function" && _typeof61(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof61(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof61(obj);
};

var _typeof59 = typeof Symbol === "function" && _typeof60(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof60(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof60(obj);
};

var _typeof58 = typeof Symbol === "function" && _typeof59(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof59(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof59(obj);
};

var _typeof57 = typeof Symbol === "function" && _typeof58(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof58(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof58(obj);
};

var _typeof56 = typeof Symbol === "function" && _typeof57(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof57(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof57(obj);
};

var _typeof55 = typeof Symbol === "function" && _typeof56(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof56(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof56(obj);
};

var _typeof54 = typeof Symbol === "function" && _typeof55(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof55(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof55(obj);
};

var _typeof53 = typeof Symbol === "function" && _typeof54(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof54(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof54(obj);
};

var _typeof52 = typeof Symbol === "function" && _typeof53(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof53(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof53(obj);
};

var _typeof51 = typeof Symbol === "function" && _typeof52(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof52(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof52(obj);
};

var _typeof50 = typeof Symbol === "function" && _typeof51(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof51(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof51(obj);
};

var _typeof49 = typeof Symbol === "function" && _typeof50(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof50(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof50(obj);
};

var _typeof48 = typeof Symbol === "function" && _typeof49(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof49(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof49(obj);
};

var _typeof47 = typeof Symbol === "function" && _typeof48(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof48(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof48(obj);
};

var _typeof46 = typeof Symbol === "function" && _typeof47(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof47(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof47(obj);
};

var _typeof45 = typeof Symbol === "function" && _typeof46(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof46(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof46(obj);
};

var _typeof44 = typeof Symbol === "function" && _typeof45(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof45(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof45(obj);
};

var _typeof43 = typeof Symbol === "function" && _typeof44(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof44(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof44(obj);
};

var _typeof42 = typeof Symbol === "function" && _typeof43(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof43(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof43(obj);
};

var _typeof41 = typeof Symbol === "function" && _typeof42(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof42(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof42(obj);
};

var _typeof40 = typeof Symbol === "function" && _typeof41(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof41(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof41(obj);
};

var _typeof39 = typeof Symbol === "function" && _typeof40(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof40(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof40(obj);
};

var _typeof38 = typeof Symbol === "function" && _typeof39(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof39(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof39(obj);
};

var _typeof37 = typeof Symbol === "function" && _typeof38(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof38(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof38(obj);
};

var _typeof36 = typeof Symbol === "function" && _typeof37(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof37(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof37(obj);
};

var _typeof35 = typeof Symbol === "function" && _typeof36(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof36(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof36(obj);
};

var _typeof34 = typeof Symbol === "function" && _typeof35(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof35(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof35(obj);
};

var _typeof33 = typeof Symbol === "function" && _typeof34(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof34(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof34(obj);
};

var _typeof32 = typeof Symbol === "function" && _typeof33(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof33(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof33(obj);
};

var _typeof31 = typeof Symbol === "function" && _typeof32(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof32(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof32(obj);
};

var _typeof30 = typeof Symbol === "function" && _typeof31(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof31(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof31(obj);
};

var _typeof29 = typeof Symbol === "function" && _typeof30(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof30(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof30(obj);
};

var _typeof28 = typeof Symbol === "function" && _typeof29(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof29(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof29(obj);
};

var _typeof27 = typeof Symbol === "function" && _typeof28(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof28(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof28(obj);
};

var _typeof26 = typeof Symbol === "function" && _typeof27(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof27(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof27(obj);
};

var _typeof25 = typeof Symbol === "function" && _typeof26(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof26(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof26(obj);
};

var _typeof24 = typeof Symbol === "function" && _typeof25(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof25(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof25(obj);
};

var _typeof23 = typeof Symbol === "function" && _typeof24(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof24(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof24(obj);
};

var _typeof22 = typeof Symbol === "function" && _typeof23(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof23(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof23(obj);
};

var _typeof21 = typeof Symbol === "function" && _typeof22(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof22(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof22(obj);
};

var _typeof20 = typeof Symbol === "function" && _typeof21(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof21(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof21(obj);
};

var _typeof19 = typeof Symbol === "function" && _typeof20(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof20(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof20(obj);
};

var _typeof18 = typeof Symbol === "function" && _typeof19(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof19(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof19(obj);
};

var _typeof17 = typeof Symbol === "function" && _typeof18(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof18(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof18(obj);
};

var _typeof16 = typeof Symbol === "function" && _typeof17(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof17(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof17(obj);
};

var _typeof15 = typeof Symbol === "function" && _typeof16(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof16(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof16(obj);
};

var _typeof14 = typeof Symbol === "function" && _typeof15(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof15(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof15(obj);
};

var _typeof13 = typeof Symbol === "function" && _typeof14(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof14(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof14(obj);
};

var _typeof12 = typeof Symbol === "function" && _typeof13(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof13(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof13(obj);
};

var _typeof11 = typeof Symbol === "function" && _typeof12(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof12(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof12(obj);
};

var _typeof10 = typeof Symbol === "function" && _typeof11(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof11(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof11(obj);
};

var _typeof9 = typeof Symbol === "function" && _typeof10(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof10(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof10(obj);
};

var _typeof8 = typeof Symbol === "function" && _typeof9(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof9(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof9(obj);
};

var _typeof7 = typeof Symbol === "function" && _typeof8(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof8(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof8(obj);
};

var _typeof6 = typeof Symbol === "function" && _typeof7(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof7(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof7(obj);
};

var _typeof5 = typeof Symbol === "function" && _typeof6(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof6(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof6(obj);
};

var _typeof4 = typeof Symbol === "function" && _typeof5(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof5(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof5(obj);
};

var _typeof3 = typeof Symbol === "function" && _typeof4(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof4(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof4(obj);
};

var _typeof2 = typeof Symbol === "function" && _typeof3(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof3(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof3(obj);
};

var _typeof = typeof Symbol === "function" && _typeof2(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof2(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof2(obj);
};

var _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
        var source = arguments[i];for (var key in source) {
            if (Object.prototype.hasOwnProperty.call(source, key)) {
                target[key] = source[key];
            }
        }
    }return target;
};

var _createClass = function () {
    function defineProperties(target, props) {
        for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
        }
    }return function (Constructor, protoProps, staticProps) {
        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
    };
}();

var _viewDataHelpers = require('./viewDataHelpers');

var _viewDataHelpers2 = _interopRequireDefault(_viewDataHelpers);

function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : { default: obj };
}

function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

var picky = function () {
    function picky() {
        _classCallCheck(this, picky);
    }

    _createClass(picky, null, [{
        key: 'addCalendar',
        value: function addCalendar(state, name, startDay, startMonth, startYear) {
            if (picky.isValidPicky(state)) {
                var currentDate = new Date();
                var _calendars = _extends({}, state.calendars);
                _calendars[name] = {
                    name: name,
                    view: {
                        year: startYear || currentDate.getFullYear(),
                        month: startMonth || currentDate.getMonth() + 1,
                        day: startDay || currentDate.getDate()
                    },
                    selected: {
                        year: startYear || currentDate.getFullYear(),
                        month: startMonth || currentDate.getMonth() + 1,
                        day: startDay || currentDate.getDate()
                    }
                };

                return _extends({}, state, {
                    calendars: _calendars
                });
            } else {
                return null;
            }
        }
    }, {
        key: 'isValidPicky',
        value: function isValidPicky(state) {
            if ((typeof state === 'undefined' ? 'undefined' : _typeof(state)) === _typeof({}) && _typeof(state.calendars) === _typeof([])) {
                return true;
            } else {
                console.warn('No valid picky data passed in.');
                return false;
            }
        }
    }, {
        key: 'getCalendarViewData',
        value: function getCalendarViewData(state, name) {
            if (picky.isValidPicky(state)) {
                var calendar = state.calendars[name];
                if (calendar) {
                    return _viewDataHelpers2.default.generateMonthViewData(calendar.view.month, calendar.view.year);
                } else {
                    console.warn('There is no calendar with the name: ' + name + ' in this picky object.');
                    return state;
                }
            } else {
                return null;
            }
        }
    }, {
        key: 'moveCalendarViewForwardOneMonth',
        value: function moveCalendarViewForwardOneMonth(state, name) {
            if (picky.isValidPicky(state)) {
                var calendar = state.calendars[name];
                if (calendar) {
                    return _extends({}, state, {
                        calendars: calendars
                    });
                } else {
                    console.warn('There is no calendar with the name: ' + name + ' in this picky object.');
                    return state;
                }
            } else {
                return null;
            }
        }
    }, {
        key: 'generateDatePicker',
        value: function generateDatePicker() {
            return {
                calendars: {},
                viewMode: 'month'
            };
        }
    }]);

    return picky;
}();

var datePickerData = picky.generateDatePicker();
console.log(datePickerData.calendars.length);
console.log(datePickerData);

var modifiedDatePickerData = picky.addCalendar(datePickerData, 'left', 20, 10, 2016);
console.log(modifiedDatePickerData);
console.log(modifiedDatePickerData.calendars.length);
var modifiedDatePickerData2 = picky.addCalendar(modifiedDatePickerData, 'right');
console.log(modifiedDatePickerData2);
console.log(modifiedDatePickerData2.calendars.length);
console.log(picky.getCalendarViewData(modifiedDatePickerData2, 'left'));

},{"./viewDataHelpers":4}],3:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var util = function () {
    function util() {
        _classCallCheck(this, util);
    }

    _createClass(util, null, [{
        key: "isLeapYear",
        value: function isLeapYear(year) {
            if (year % 4 !== 0) {
                return false;
            } else if (year % 100 !== 0) {
                return true;
            } else if (year % 400 !== 0) {
                return false;
            } else {
                return true;
            }
        }
    }, {
        key: "aBeforeB",
        value: function aBeforeB(a, b) {
            return a.year < b.year || a.month < b.month || a.day < b.day;
        }
    }, {
        key: "aAfterB",
        value: function aAfterB(a, b) {
            return a.year > b.year || a.month > b.month || a.day > b.day;
        }
    }, {
        key: "getWeekday",
        value: function getWeekday(day, month, year) {
            // Implementing Zeller's congruence
            // https://en.wikipedia.org/wiki/Zeller%27s_congruence

            var q = day;
            var m = void 0;
            var potentiallyShiftedYear = void 0;
            if (month <= 2) {
                m = month + 12;
                potentiallyShiftedYear = year - 1;
            } else {
                m = month;
                potentiallyShiftedYear = year;
            }
            var K = potentiallyShiftedYear % 100;
            var J = Math.floor(potentiallyShiftedYear / 100);

            var h = (q + Math.floor(13 * (m + 1) / 5) + K + Math.floor(K / 4) + Math.floor(J / 4) + 5 * J) % 7;

            var d = (h + 5) % 7;
            return d;
        }
    }, {
        key: "getFollowingMonthNumber",
        value: function getFollowingMonthNumber(month) {
            if (month === 12) {
                return 1;
            } else {
                return month + 1;
            }
        }
    }, {
        key: "getPrecedingMonthNumber",
        value: function getPrecedingMonthNumber(month) {
            if (month === 1) {
                return 12;
            } else {
                return month - 1;
            }
        }
    }, {
        key: "getDaysInMonth",
        value: function getDaysInMonth(month, year) {
            var monthLengths = [31, util.isLeapYear(year) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
            return monthLengths[month - 1];
        }
    }]);

    return util;
}();

module.exports = util;

},{}],4:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _util = require("./util");

var _util2 = _interopRequireDefault(_util);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var viewDataHelpers = function () {
    function viewDataHelpers() {
        _classCallCheck(this, viewDataHelpers);
    }

    _createClass(viewDataHelpers, null, [{
        key: "createDayObject",
        value: function createDayObject(day, weekday, month, year) {
            return {
                day: day, weekday: weekday, month: month, year: year
            };
        }
    }, {
        key: "generateMonthViewData",
        value: function generateMonthViewData(month, year) {
            var startWeekday = _util2.default.getWeekday(1, month, year);

            var precedingMonth = _util2.default.getPrecedingMonthNumber(month);
            var yearOfPrecedingMonth = precedingMonth === 12 ? year - 1 : year;
            var daysInPrecedingMonth = _util2.default.getDaysInMonth(precedingMonth, year);

            var followingMonth = _util2.default.getFollowingMonthNumber(month);
            var yearOfFollowingMonth = followingMonth === 1 ? year + 1 : year;

            var daysInCurrentMonth = _util2.default.getDaysInMonth(month, year);

            var weeks = [];

            var currentDate = 1;
            var currentWeekIndex = 0;
            var currentDayInFollowingMonth = 1;

            weeks[currentWeekIndex] = [];

            for (var i = 0; i < startWeekday; i++) {
                weeks[currentWeekIndex].push(viewDataHelpers.createDayObject(daysInPrecedingMonth - startWeekday + 1 + i, i, precedingMonth, yearOfPrecedingMonth));
            }
            while (weeks[currentWeekIndex].length < 7 || currentDate <= daysInCurrentMonth) {
                if (weeks[currentWeekIndex].length === 7) {
                    currentWeekIndex++;
                    weeks[currentWeekIndex] = [];
                }
                if (currentDate <= daysInCurrentMonth) {
                    weeks[currentWeekIndex].push(viewDataHelpers.createDayObject(currentDate, weeks[currentWeekIndex].length + 1, month, year));
                    currentDate++;
                } else {
                    weeks[currentWeekIndex].push(viewDataHelpers.createDayObject(currentDayInFollowingMonth, weeks[currentWeekIndex].length + 1, followingMonth, yearOfFollowingMonth));
                    currentDayInFollowingMonth++;
                }
            }
            return weeks;
        }
    }]);

    return viewDataHelpers;
}();

module.exports = viewDataHelpers;

},{"./util":3}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJpbmRleC5qcyIsImxpYlxccGlja3kuanMiLCJsaWJcXHV0aWwuanMiLCJsaWJcXHZpZXdEYXRhSGVscGVycy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUE7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUE7Ozs7Ozs7Ozs7Ozs7O0ksQUFFTTs7Ozs7OztvQyxBQUVpQixPLEFBQU8sTSxBQUFNLFUsQUFBVSxZLEFBQVksV0FBVyxBQUM1RDtnQkFBSSxNQUFBLEFBQU0sYUFBVixBQUFJLEFBQW1CLFFBQVEsQUFDNUI7b0JBQU0sY0FBYyxJQUFwQixBQUFvQixBQUFJLEFBQ3hCO29C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QVJELE1BUU87QUFDSCwwQkFBTSxnQkFBTixFQUF3QixJQUF4QixDQUE2QixnQkFBZ0IsZUFBaEIsQ0FDekIsMEJBRHlCLEVBRXpCLE1BQU0sZ0JBQU4sRUFBd0IsTUFBeEIsR0FBK0IsQ0FGTixFQUd6QixjQUh5QixFQUl6QixvQkFKeUIsQ0FBN0I7QUFNQTtBQUNIO0FBQ0o7QUFDRCxtQkFBTyxLQUFQO0FBQ0g7Ozs7OztBQUdMLE9BQU8sT0FBUCxHQUFpQixlQUFqQiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJpbXBvcnQgcGlja3kgZnJvbSAnLi9saWIvcGlja3kuanMnOyIsIid1c2Ugc3RyaWN0JztcclxuXHJcbmltcG9ydCB2aWV3RGF0YUhlbHBlcnMgZnJvbSAnLi92aWV3RGF0YUhlbHBlcnMnO1xyXG5cclxuY2xhc3MgcGlja3kge1xyXG5cclxuICAgIHN0YXRpYyBhZGRDYWxlbmRhcihzdGF0ZSwgbmFtZSwgc3RhcnREYXksIHN0YXJ0TW9udGgsIHN0YXJ0WWVhcikge1xyXG4gICAgICAgICBpZiAocGlja3kuaXNWYWxpZFBpY2t5KHN0YXRlKSkge1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNhbGVuZGFycyA9IHsuLi5zdGF0ZS5jYWxlbmRhcnN9O1xyXG4gICAgICAgICAgICBjYWxlbmRhcnNbbmFtZV0gPSB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgICAgICAgICAgdmlldzoge1xyXG4gICAgICAgICAgICAgICAgICAgIHllYXI6IHN0YXJ0WWVhciB8fCBjdXJyZW50RGF0ZS5nZXRGdWxsWWVhcigpLFxyXG4gICAgICAgICAgICAgICAgICAgIG1vbnRoOiBzdGFydE1vbnRoIHx8IGN1cnJlbnREYXRlLmdldE1vbnRoKCkgKyAxLFxyXG4gICAgICAgICAgICAgICAgICAgIGRheTogc3RhcnREYXkgfHwgY3VycmVudERhdGUuZ2V0RGF0ZSgpXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IHtcclxuICAgICAgICAgICAgICAgICAgICB5ZWFyOiBzdGFydFllYXIgfHwgY3VycmVudERhdGUuZ2V0RnVsbFllYXIoKSxcclxuICAgICAgICAgICAgICAgICAgICBtb250aDogc3RhcnRNb250aCB8fCBjdXJyZW50RGF0ZS5nZXRNb250aCgpICsgMSxcclxuICAgICAgICAgICAgICAgICAgICBkYXk6IHN0YXJ0RGF5IHx8IGN1cnJlbnREYXRlLmdldERhdGUoKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIC4uLnN0YXRlLFxyXG4gICAgICAgICAgICAgICAgY2FsZW5kYXJzOiBjYWxlbmRhcnNcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGlzVmFsaWRQaWNreShzdGF0ZSkge1xyXG4gICAgICAgIGlmKHR5cGVvZiBzdGF0ZSA9PT0gdHlwZW9mIHt9ICYmIHR5cGVvZiBzdGF0ZS5jYWxlbmRhcnMgPT09IHR5cGVvZiBbXSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ05vIHZhbGlkIHBpY2t5IGRhdGEgcGFzc2VkIGluLicpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRDYWxlbmRhclZpZXdEYXRhKHN0YXRlLCBuYW1lKSB7XHJcbiAgICAgICAgaWYgKHBpY2t5LmlzVmFsaWRQaWNreShzdGF0ZSkpIHtcclxuICAgICAgICAgICAgY29uc3QgY2FsZW5kYXIgPSBzdGF0ZS5jYWxlbmRhcnNbbmFtZV07XHJcbiAgICAgICAgICAgIGlmIChjYWxlbmRhcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZpZXdEYXRhSGVscGVycy5nZW5lcmF0ZU1vbnRoVmlld0RhdGEoY2FsZW5kYXIudmlldy5tb250aCwgY2FsZW5kYXIudmlldy55ZWFyKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgVGhlcmUgaXMgbm8gY2FsZW5kYXIgd2l0aCB0aGUgbmFtZTogJHtuYW1lfSBpbiB0aGlzIHBpY2t5IG9iamVjdC5gKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgbW92ZUNhbGVuZGFyVmlld0ZvcndhcmRPbmVNb250aChzdGF0ZSwgbmFtZSkge1xyXG4gICAgICAgIGlmIChwaWNreS5pc1ZhbGlkUGlja3koc3RhdGUpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNhbGVuZGFyID0gc3RhdGUuY2FsZW5kYXJzW25hbWVdO1xyXG4gICAgICAgICAgICBpZiAoY2FsZW5kYXIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ET1xyXG4gICAgICAgICAgICAgICAgICAgIC4uLnN0YXRlLFxyXG4gICAgICAgICAgICAgICAgICAgIGNhbGVuZGFyczogY2FsZW5kYXJzXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBUaGVyZSBpcyBubyBjYWxlbmRhciB3aXRoIHRoZSBuYW1lOiAke25hbWV9IGluIHRoaXMgcGlja3kgb2JqZWN0LmApO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZW5lcmF0ZURhdGVQaWNrZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgY2FsZW5kYXJzOiB7fSxcclxuICAgICAgICAgICAgdmlld01vZGU6ICdtb250aCcsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgZGF0ZVBpY2tlckRhdGEgPSBwaWNreS5nZW5lcmF0ZURhdGVQaWNrZXIoKTtcclxuY29uc29sZS5sb2coZGF0ZVBpY2tlckRhdGEuY2FsZW5kYXJzLmxlbmd0aCk7XHJcbmNvbnNvbGUubG9nKGRhdGVQaWNrZXJEYXRhKTtcclxuXHJcbmNvbnN0IG1vZGlmaWVkRGF0ZVBpY2tlckRhdGEgPSBwaWNreS5hZGRDYWxlbmRhcihkYXRlUGlja2VyRGF0YSwgJ2xlZnQnLCAyMCwgMTAsIDIwMTYpO1xyXG5jb25zb2xlLmxvZyhtb2RpZmllZERhdGVQaWNrZXJEYXRhKTtcclxuY29uc29sZS5sb2cobW9kaWZpZWREYXRlUGlja2VyRGF0YS5jYWxlbmRhcnMubGVuZ3RoKTtcclxuY29uc3QgbW9kaWZpZWREYXRlUGlja2VyRGF0YTIgPSBwaWNreS5hZGRDYWxlbmRhcihtb2RpZmllZERhdGVQaWNrZXJEYXRhLCAncmlnaHQnKTtcclxuY29uc29sZS5sb2cobW9kaWZpZWREYXRlUGlja2VyRGF0YTIpO1xyXG5jb25zb2xlLmxvZyhtb2RpZmllZERhdGVQaWNrZXJEYXRhMi5jYWxlbmRhcnMubGVuZ3RoKTtcclxuY29uc29sZS5sb2cocGlja3kuZ2V0Q2FsZW5kYXJWaWV3RGF0YShtb2RpZmllZERhdGVQaWNrZXJEYXRhMiwgJ2xlZnQnKSk7IiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5jbGFzcyB1dGlsIHtcclxuICAgIHN0YXRpYyBpc0xlYXBZZWFyKHllYXIpIHtcclxuICAgICAgICBpZiAoeWVhciU0ICE9PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9IGVsc2UgaWYgKHllYXIlMTAwICE9PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoeWVhciU0MDAgIT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgYUJlZm9yZUIoYSwgYikge1xyXG4gICAgICAgIHJldHVybiBhLnllYXIgPCBiLnllYXIgfHwgYS5tb250aCA8IGIubW9udGggfHwgYS5kYXkgPCBiLmRheTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgYUFmdGVyQihhLCBiKSB7XHJcbiAgICAgICAgcmV0dXJuIGEueWVhciA+IGIueWVhciB8fCBhLm1vbnRoID4gYi5tb250aCB8fCBhLmRheSA+IGIuZGF5O1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBzdGF0aWMgZ2V0V2Vla2RheShkYXksIG1vbnRoLCB5ZWFyKSB7XHJcbiAgICAgICAgLy8gSW1wbGVtZW50aW5nIFplbGxlcidzIGNvbmdydWVuY2VcclxuICAgICAgICAvLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9aZWxsZXIlMjdzX2NvbmdydWVuY2VcclxuXHJcbiAgICAgICAgY29uc3QgcSA9IGRheTtcclxuICAgICAgICBsZXQgbTtcclxuICAgICAgICBsZXQgcG90ZW50aWFsbHlTaGlmdGVkWWVhcjtcclxuICAgICAgICBpZiAobW9udGggPD0gMikge1xyXG4gICAgICAgICAgICBtID0gbW9udGgrMTI7XHJcbiAgICAgICAgICAgIHBvdGVudGlhbGx5U2hpZnRlZFllYXIgPSB5ZWFyLTE7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbSA9IG1vbnRoO1xyXG4gICAgICAgICAgICBwb3RlbnRpYWxseVNoaWZ0ZWRZZWFyID0geWVhcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgSyA9IHBvdGVudGlhbGx5U2hpZnRlZFllYXIgJSAxMDA7XHJcbiAgICAgICAgY29uc3QgSiA9IE1hdGguZmxvb3IocG90ZW50aWFsbHlTaGlmdGVkWWVhciAvIDEwMCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGggPSAocSArIE1hdGguZmxvb3IoMTMqKG0gKyAxKSAvIDUpICsgSyArIE1hdGguZmxvb3IoSy80KSArIE1hdGguZmxvb3IoSi80KSArIDUqSikgJSA3O1xyXG5cclxuICAgICAgICBjb25zdCBkID0gKChoKzUpICUgNyk7XHJcbiAgICAgICAgcmV0dXJuIGQ7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldEZvbGxvd2luZ01vbnRoTnVtYmVyKG1vbnRoKSB7XHJcbiAgICAgICAgaWYgKG1vbnRoID09PSAxMikge1xyXG4gICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbW9udGggKyAxO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0UHJlY2VkaW5nTW9udGhOdW1iZXIobW9udGgpIHtcclxuICAgICAgICBpZiAobW9udGggPT09IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDEyO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtb250aCAtIDE7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXREYXlzSW5Nb250aChtb250aCwgeWVhcikge1xyXG4gICAgICAgIGNvbnN0IG1vbnRoTGVuZ3RocyA9IFtcclxuICAgICAgICAgICAgMzEsIHV0aWwuaXNMZWFwWWVhcih5ZWFyKSA/IDI5IDogMjgsIDMxLCAzMCwgMzEsIDMwLCAzMSwgMzEsIDMwLCAzMSwgMzAsIDMxXHJcbiAgICAgICAgXTtcclxuICAgICAgICByZXR1cm4gbW9udGhMZW5ndGhzW21vbnRoLTFdO1xyXG4gICAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHV0aWw7IiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5pbXBvcnQgdXRpbCBmcm9tICcuL3V0aWwnO1xyXG5cclxuY2xhc3Mgdmlld0RhdGFIZWxwZXJzIHtcclxuXHJcbiAgICBzdGF0aWMgY3JlYXRlRGF5T2JqZWN0KGRheSwgd2Vla2RheSwgbW9udGgsIHllYXIpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBkYXksIHdlZWtkYXksIG1vbnRoLCB5ZWFyXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgc3RhdGljIGdlbmVyYXRlTW9udGhWaWV3RGF0YShtb250aCwgeWVhcikge1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0V2Vla2RheSA9IHV0aWwuZ2V0V2Vla2RheSgxLCBtb250aCwgeWVhcik7XHJcblxyXG4gICAgICAgIGNvbnN0IHByZWNlZGluZ01vbnRoID0gdXRpbC5nZXRQcmVjZWRpbmdNb250aE51bWJlcihtb250aCk7XHJcbiAgICAgICAgY29uc3QgeWVhck9mUHJlY2VkaW5nTW9udGggPSBwcmVjZWRpbmdNb250aCA9PT0gMTIgPyB5ZWFyLTEgOiB5ZWFyO1xyXG4gICAgICAgIGNvbnN0IGRheXNJblByZWNlZGluZ01vbnRoID0gdXRpbC5nZXREYXlzSW5Nb250aChwcmVjZWRpbmdNb250aCwgeWVhcik7XHJcblxyXG4gICAgICAgIGNvbnN0IGZvbGxvd2luZ01vbnRoID0gdXRpbC5nZXRGb2xsb3dpbmdNb250aE51bWJlcihtb250aCk7XHJcbiAgICAgICAgY29uc3QgeWVhck9mRm9sbG93aW5nTW9udGggPSBmb2xsb3dpbmdNb250aCA9PT0gMSA/IHllYXIrMSA6IHllYXI7XHJcblxyXG5cclxuICAgICAgICBjb25zdCBkYXlzSW5DdXJyZW50TW9udGggPSB1dGlsLmdldERheXNJbk1vbnRoKG1vbnRoLCB5ZWFyKTtcclxuXHJcbiAgICAgICAgY29uc3Qgd2Vla3MgPSBbXTtcclxuXHJcbiAgICAgICAgbGV0IGN1cnJlbnREYXRlID0gMTtcclxuICAgICAgICBsZXQgY3VycmVudFdlZWtJbmRleCA9IDA7XHJcbiAgICAgICAgbGV0IGN1cnJlbnREYXlJbkZvbGxvd2luZ01vbnRoID0gMTtcclxuXHJcbiAgICAgICAgd2Vla3NbY3VycmVudFdlZWtJbmRleF0gPSBbXTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFydFdlZWtkYXk7IGkrKykge1xyXG4gICAgICAgICAgICB3ZWVrc1tjdXJyZW50V2Vla0luZGV4XS5wdXNoKHZpZXdEYXRhSGVscGVycy5jcmVhdGVEYXlPYmplY3QoXHJcbiAgICAgICAgICAgICAgICBkYXlzSW5QcmVjZWRpbmdNb250aCAtIHN0YXJ0V2Vla2RheSArIDEgKyBpLFxyXG4gICAgICAgICAgICAgICAgaSxcclxuICAgICAgICAgICAgICAgIHByZWNlZGluZ01vbnRoLFxyXG4gICAgICAgICAgICAgICAgeWVhck9mUHJlY2VkaW5nTW9udGhcclxuICAgICAgICAgICAgKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHdoaWxlKHdlZWtzW2N1cnJlbnRXZWVrSW5kZXhdLmxlbmd0aCA8IDcgfHwgY3VycmVudERhdGUgPD0gZGF5c0luQ3VycmVudE1vbnRoKSB7XHJcbiAgICAgICAgICAgIGlmKHdlZWtzW2N1cnJlbnRXZWVrSW5kZXhdLmxlbmd0aCA9PT0gNykge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudFdlZWtJbmRleCsrO1xyXG4gICAgICAgICAgICAgICAgd2Vla3NbY3VycmVudFdlZWtJbmRleF0gPSBbXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihjdXJyZW50RGF0ZSA8PSBkYXlzSW5DdXJyZW50TW9udGgpIHtcclxuICAgICAgICAgICAgICAgIHdlZWtzW2N1cnJlbnRXZWVrSW5kZXhdLnB1c2godmlld0RhdGFIZWxwZXJzLmNyZWF0ZURheU9iamVjdChcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50RGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICB3ZWVrc1tjdXJyZW50V2Vla0luZGV4XS5sZW5ndGgrMSxcclxuICAgICAgICAgICAgICAgICAgICBtb250aCxcclxuICAgICAgICAgICAgICAgICAgICB5ZWFyXHJcbiAgICAgICAgICAgICAgICApKTtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnREYXRlKys7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB3ZWVrc1tjdXJyZW50V2Vla0luZGV4XS5wdXNoKHZpZXdEYXRhSGVscGVycy5jcmVhdGVEYXlPYmplY3QoXHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudERheUluRm9sbG93aW5nTW9udGgsXHJcbiAgICAgICAgICAgICAgICAgICAgd2Vla3NbY3VycmVudFdlZWtJbmRleF0ubGVuZ3RoKzEsXHJcbiAgICAgICAgICAgICAgICAgICAgZm9sbG93aW5nTW9udGgsXHJcbiAgICAgICAgICAgICAgICAgICAgeWVhck9mRm9sbG93aW5nTW9udGhcclxuICAgICAgICAgICAgICAgICkpO1xyXG4gICAgICAgICAgICAgICAgY3VycmVudERheUluRm9sbG93aW5nTW9udGgrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gd2Vla3M7XHJcbiAgICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gdmlld0RhdGFIZWxwZXJzOyJdfQ==
